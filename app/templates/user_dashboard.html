<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body class="page-user enhanced-landing">
    <div class="bg-decor">
        <span class="orb o1"></span>
        <span class="orb o2"></span>
        <span class="orb o3"></span>
    </div>
    <div class="user-wrap">
        <h2 style="margin-top:8px;">Your Wallet</h2>
        
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }}" style="
                        padding: 15px; 
                        margin: 20px 0; 
                        border-radius: 5px; 
                        font-weight: bold;
                        {% if category == 'success' %}
                            background: #d4edda; 
                            color: #155724; 
                            border: 1px solid #c3e6cb;
                        {% elif category == 'error' or category == 'danger' %}
                            background: #f8d7da; 
                            color: #721c24; 
                            border: 1px solid #f5c6cb;
                        {% elif category == 'warning' %}
                            background: #fff3cd; 
                            color: #856404; 
                            border: 1px solid #ffeaa7;
                        {% else %}
                            background: #d1ecf1; 
                            color: #0c5460; 
                            border: 1px solid #bee5eb;
                        {% endif %}
                    ">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <p>Balance: <strong>{{ balance }}</strong></p>
        {% if qr_data_uri %}
        <div class="qr-card" style="margin-bottom:20px;">
            <img src="{{ qr_data_uri }}" alt="Your QR" style="max-width:280px;">
        </div>
        {% elif qr_filename %}
        <div class="qr-card" style="margin-bottom:20px;">
            <img src="/static/qr_codes/{{ qr_filename }}" alt="Your QR" style="max-width:280px;">
        </div>
        {% endif %}

        <div class="agenda-card">
            <div class="agenda-title">Your Agenda: <span>Funfinity</span></div>
            <div class="menu-title">Our Menu</div>
            <ul class="games-grid">
                <li>Wire Loop</li>
                <li>A.I game</li>
                <li>Sling Puck</li>
                <li>Dart Game</li>
                <li>Coin Tower</li>
                <li>Ring Toss</li>
                <li>Jenga</li>
                <li>connect 4</li>
                <li>Beyblade Battle</li>
                <li>Mini Soccer</li>
                <li>ping pong ball game</li>
                <li>Pick up the stick</li>
                <li>Blindfold Drawing</li>
                <li>Guess the Song</li>
                <li>Know Your Partner</li>
            </ul>
        </div>
        <form method="post" action="/auth/logout" style="margin-top:16px;">
            <button class="logout-btn">Logout</button>
        </form>
    </div>
</body>
</html>


